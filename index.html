
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Card Game</title>
  <script src="script.js" type="module"></script>
  <script type="text/javascript">
    function startDrag(e) {
            // determine event object
            if (!e) {
                var e = window.event;
            }
            if(e.preventDefault) e.preventDefault();

            // IE uses srcElement, others use target
            targ = e.target ? e.target : e.srcElement;

            if (targ.className != 'card') {return};
            // Save starting values of cards x y coords
              startingX = targ.style.left;
              startingY = targ.style.top;
            // calculate event X, Y coordinates
                offsetX = e.clientX;
                offsetY = e.clientY;

            // assign default values for top and left properties
            if(!targ.style.left) { targ.style.left='0px'};
            if (!targ.style.top) { targ.style.top='0px'};

            // calculate integer values for top and left 
            // properties
            coordX = parseInt(targ.style.left);
            coordY = parseInt(targ.style.top);
            drag = true;

            // move div element
                document.onmousemove=dragDiv;
            return false;

        }
        function dragDiv(e) {
            if (!drag) {return};
            if (!e) { var e= window.event};
            // var targ=e.target?e.target:e.srcElement;
            // move div element
            targ.style.left=coordX+e.clientX-offsetX+'px';
            targ.style.top=coordY+e.clientY-offsetY+'px';
            return false;
        }
        function stopDrag() {
            position = document.getElementById('board').getBoundingClientRect();
            imgPos = targ.getBoundingClientRect();
            console.log(imgPos.top);
            console.log(imgPos.left);
            console.log(position.top);
            console.log(position.left);
            console.log("+++++++++++++++++++");
            if ((parseFloat(imgPos.left) > parseFloat(position.left) && parseFloat(imgPos.left) < parseFloat(position.left) + (parseFloat(position.width) - parseFloat(imgPos.width))) &&
                 (parseFloat(imgPos.top) > parseFloat(position.top) && parseFloat(imgPos.top) < parseFloat(position.top) + (parseFloat(position.height) - imgPos.height))) {
        
              drag = false;
            } else {
              targ.style.left = startingX;
              targ.style.top = startingY;
              drag = false;
            }
        }
          window.onload = function() {
            document.querySelector('.user-hand').children.onmousedown = startDrag;
            document.querySelector('.user-hand').children.onmouseup = stopDrag;
          }
</script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="cuarenta">
    <div id = "choose-game-creation-option"> 
      <button class="button createGame">Create a Game</button>
      <button class="button joinGame">Join a Game</button>
    </div>
    <div id = "create-game-screen"> 
      <label for="name">Name:</label>
      <input type="text" id="name" name="fname"><br><br>         
      <button class="button createLobby">Create a Lobby</button>
    </div>
    <div id = "join-game-screen"> 
      <label for="name">Name:</label>
      <input type="text" id="name" name="fname"><br><br>         
      <button class="button joinLobby">Join a Lobby</button>
    </div>
    <div id="board"> </div>
    <div class ="user-hand"> </div>
    <div class ="user info"> 
      <p> User info</p>
    </div>
  </div>

  <div class="test"> </div>
  
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
  const firebaseConfig = {
    apiKey: "AIzaSyAnvPUD8NmYUC-fA7ypMvlrfIdAngL0KF0",
    authDomain: "cuarenta-dfbf1.firebaseapp.com",
    projectId: "cuarenta-dfbf1",
    storageBucket: "cuarenta-dfbf1.appspot.com",
    messagingSenderId: "78708075147",
    appId: "1:78708075147:web:3bffd7a9a76f0ed27fc28e",
    measurementId: "G-QE2JKLQ686"
  };
    firebase.initializeApp(firebaseConfig);
  </script>
  
  
</body>
</html>
