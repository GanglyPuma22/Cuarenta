
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Card Game</title>
  <script src="script.js" type="module"></script>
  <script type="module" src="listeners.js"> </script>
  <!-- <script type="text/javascript">
    function startDrag(e) {
            // determine event object
            if (!e) {
                var e = window.event;
            }
            if(e.preventDefault) e.preventDefault();

            // IE uses srcElement, others use target
            targ = e.target ? e.target : e.srcElement;

            if (targ.className != 'card') {return};
            // Save starting values of cards x y coords
              startingX = targ.style.left;
              startingY = targ.style.top;
            // calculate event X, Y coordinates
                offsetX = e.clientX;
                offsetY = e.clientY;

            // assign default values for top and left properties
            if(!targ.style.left) { targ.style.left='0px'};
            if (!targ.style.top) { targ.style.top='0px'};

            // calculate integer values for top and left 
            // properties
            coordX = parseInt(targ.style.left);
            coordY = parseInt(targ.style.top);
            drag = true;

            // move div element
                document.onmousemove=dragDiv;
            return false;

        }
        function dragDiv(e) {
            if (!drag) {return};
            if (!e) { var e= window.event};
            // var targ=e.target?e.target:e.srcElement;
            // move div element
            targ.style.left=coordX+e.clientX-offsetX+'px';
            targ.style.top=coordY+e.clientY-offsetY+'px';
            return false;
        }
        function stopDrag() {
            position = document.getElementById('board').getBoundingClientRect();
            imgPos = targ.getBoundingClientRect();
            console.log(imgPos.top);
            console.log(imgPos.left);
            console.log(position.top);
            console.log(position.left);
            console.log("+++++++++++++++++++");
            if ((parseFloat(imgPos.left) > parseFloat(position.left) && parseFloat(imgPos.left) < parseFloat(position.left) + (parseFloat(position.width) - parseFloat(imgPos.width))) &&
                 (parseFloat(imgPos.top) > parseFloat(position.top) && parseFloat(imgPos.top) < parseFloat(position.top) + (parseFloat(position.height) - imgPos.height))) {
              drag = false;
            } else {
              targ.style.left = startingX;
              targ.style.top = startingY;
              drag = false;
            }
        }
          // document.querySelector('.user-hand').addEventListener("children", function() {
          //   document.querySelector('.user-hand').children.onmousedown = startDrag;
          //   document.querySelector('.user-hand').children.onmouseup = stopDrag;
          // });
</script> -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="cuarenta">
    <div id="game-host"> 
      <div id = "choose-game-creation-option"> 
        <button class="button createGame" name = "create">Create a Game</button>
        <button class="button joinGame" name = "join">Join a Game</button>
      </div>
      <div id = "join-game"> 
        <div id = 'pre-join'>
          <p class="p join-session-name"> Enter your name: </p>
          <input class="input join-session-name" name="join-name" maxlength="30" type="text"/>
          <p class="p join-session-id"> Enter the game session id provided to you by the game host: </p>
          <input class="input join-session-id" name="join-session" maxlength="30" type="text"/>
          <button class="button joinGameSession" name = "join-session"> Join Game </button> 
        </div>
        <div id = 'post-join'>
          <p> Successfully joined the game! Waiting on four players.</p> 
          <p id = 'player-count-member'> Player Count: </p>
          <p id = 'waiting-on-game' style = 'display: none'> Waiting on host to start the game</p>
        </div>

      </div>
      <div id = "create-game">
        <p class="p created-session-id"> Create Game Session: </p>
        <p class="p create-session-name"> Enter your name: </p>
        <input class="input create-session-name" name="create-name" maxlength="30" type="text"/>
        <button class="button createGameSession" name = "create-session"> Create Game </button> 
      </div>
      <div id = "create-game-id-created">
        <p id = "game-id-host"> Game Session ID is: </p>
        <p> Share your game session ID to three other players. Once all four are connected the game will start. </p>
        <p id = "player-count-host"> Player Count: 1 </p>
        <h2 id = "players-host"> Players: </h2>
        <h3 style = "color: red"> Team 1</h3>
        <h3 style = "color: blue"> Team 2</h3>
        <button id="start-game-btn"> Start Game </button>
      </div>
    </div>
    <div id="board"> 
      <div class ="user-hand"> </div>
    </div>
  </div>

  <div class="test"> </div>
  
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
  <script>
  const firebaseConfig = {
    apiKey: "AIzaSyAnvPUD8NmYUC-fA7ypMvlrfIdAngL0KF0",
    authDomain: "cuarenta-dfbf1.firebaseapp.com",
    projectId: "cuarenta-dfbf1",
    storageBucket: "cuarenta-dfbf1.appspot.com",
    messagingSenderId: "78708075147",
    appId: "1:78708075147:web:3bffd7a9a76f0ed27fc28e",
    measurementId: "G-QE2JKLQ686"
  };
    firebase.initializeApp(firebaseConfig);
  </script>
  
</body>
</html>
