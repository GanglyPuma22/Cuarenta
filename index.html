
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Card Game</title>
  <script src="script.js" type="module"></script>
  <script type="text/javascript">
    function startDrag(e) {
            // determine event object
            if (!e) {
                var e = window.event;
            }
            if(e.preventDefault) e.preventDefault();

            // IE uses srcElement, others use target
            targ = e.target ? e.target : e.srcElement;

            if (targ.className != 'card') {return};
            // Save starting values of cards x y coords
              startingX = targ.style.left;
              startingY = targ.style.top;
            // calculate event X, Y coordinates
                offsetX = e.clientX;
                offsetY = e.clientY;

            // assign default values for top and left properties
            if(!targ.style.left) { targ.style.left='0px'};
            if (!targ.style.top) { targ.style.top='0px'};

            // calculate integer values for top and left 
            // properties
            coordX = parseInt(targ.style.left);
            coordY = parseInt(targ.style.top);
            drag = true;

            // move div element
                document.onmousemove=dragDiv;
            return false;

        }
        function dragDiv(e) {
            if (!drag) {return};
            if (!e) { var e= window.event};
            // var targ=e.target?e.target:e.srcElement;
            // move div element
            targ.style.left=coordX+e.clientX-offsetX+'px';
            targ.style.top=coordY+e.clientY-offsetY+'px';
            return false;
        }
        function stopDrag() {
            position = document.getElementById('board').getBoundingClientRect();
            imgPos = targ.getBoundingClientRect();
            console.log(imgPos.top);
            console.log(imgPos.left);
            //console.log(targ.style.left);
            //console.log(targ.style.top);
            console.log(position.top);
            console.log(position.left);
            console.log("+++++++++++++++++++");
            if ((parseFloat(imgPos.left) > parseFloat(board.left) && parseFloat(imgPos.left) < parseFloat(board.left) + (parseFloat(board.width) - parseFloat(imPos.width))) &&
                 (parseFloat(imgPos.top) > parseFloat(board.top) && parseFloat(img.top) < parseFloat(board.top) + (parseFloat(board.height) - imgPos.height))) {
            //if (parseFloat(targ.style.top) + parseFloat(position.height) + parseFloat(targ.height)/2 > 0) {
              drag = false;
            } else {
              targ.style.left = startingX;
              targ.style.top = startingY;
              drag = false;
            }
        }
        window.onload = function() {
            document.onmousedown = startDrag;
            document.onmouseup = stopDrag;
        }
</script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="cuarenta">
    <div id="board"> 
      <div class ="user-hand"> </div>
    </div>
    <div class="playerHands">
      <div id ="player1"> </div>
      <div id ="player2"> </div>
      <div id ="player3"> </div>
      <div id ="player4"> </div>
    </div>
  </div>

  <div class="test"> </div>
  

  <!-- <div class="computer-deck deck"></div>
  <div class="computer-card-slot card-slot"></div>
  <div class="text"></div>
  <div class="player-deck deck"></div>
  <div class="player-card-slot card-slot"></div> -->
</body>
</html>
